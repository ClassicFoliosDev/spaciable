<% breadcrumb :admin_users %>

<div class="section-header">
  <h3 class="section-title">
    <i class="fa fa-person"></i>
    <%= t(".title") %>
  </h3>
</div>

<div class="section-actions">
  <%= link_to new_admin_user_path, class: "btn btn-primary" do %>
    <i class="fa fa-plus"></i>
    <span class="btn-label"><%= t(".add") %></span>
  <% end %>
</div>

<div class="record-list">
  <dl class="users">
    <dt class="record-list-item record-header">
      <div class="record-list-header-content">
        <span><%= sortable(@users, :email) %></span>
        <span><%= sortable(@users, :updated_at) %></span>
        <span><%= sortable(@users, :role) %></span>
        <span><%= t(".headings.permission_level") %></span>
      </div>
    </dt>
    <% @users.each do |user| %>
      <dd class="record-list-item" data-user="<%= user.id %>">
        <div class="record-list-item-actions">
          <%= edit_btn edit_admin_user_path(user) %>
          <%= delete_btn user, path: url_for([:admin, user]) %>
        </div>
        <div class="record-list-item-content">
          <%= link_to user, admin_user_path(user) %>
          <span class="user-updated-timestamp">
             <%= l user.updated_at.to_date, format: :digits %>
          </span>
          <span><%= t(user.role) %></span>
          <span><%= user.permission_level %></span>
        </div>
      </dd>
    <% end %>
  </dl>
</div>

<div class="paging">
  <%= render 'components/page_size' %>
  <%= paginate @users %>
</div>
