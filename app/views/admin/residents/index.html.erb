<% breadcrumb :admin_residents %>

<div class="section-header">
  <div class="section-title">
    <i class="fa fa-person"></i>
    <%= t(".title") %>
  </div>
</div>

<table class="record-list">
  <thead>
    <tr>
      <th><%= t(".name") %></th>
      <th><%= t(".email") %></th>
      <th><%= t(".role") %></th>
      <th><%= t(".plot_count") %></th>
      <th><%= t(".unit_type") %></th>
      <th><%= t(".development") %></th>
      <th><%= t(".invited_by") %></th>
      <th><%= t(".phone_number") %></th>
    </tr>
  </thead>
  <tbody>
    <% @residents.each do |resident| %>
    <tr data-user="<%= resident.id %>">
      <td><%= link_to resident, admin_resident_path(resident) %></td>
      <td><%= resident.email %></td>
      <% if resident.plots.count.positive? %>
        <td><%= resident.plot_residencies.first.role %></td>
        <td><%= resident.plots.count %></td>
        <td><%= resident.plots.first.unit_type %></td>
        <td><%= resident.plots.first.development %></td>
      <% else %>
        <td colspan="4"><em><%= t(".removed") %></em></td>
      <% end %>
      <td><%= resident.invited_by %></td>
      <td><%= resident.phone_number %></td>
    </tr>
    <% end %>
  </tbody>
</table>

<div class="paging">
  <%= render 'components/page_size' %>
  <%= paginate @residents %>
</div>
