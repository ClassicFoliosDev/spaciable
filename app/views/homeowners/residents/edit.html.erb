<% content_for :hero_text_primary do %>
  <span><%= t("homeowners.residents.edit.account") %></span>
<% end %>

<div class="resident-hero">
  <%= render "components/homeowner/hero" %>
</div>

<div class="branded-body outer-container branded-text">
  <div class="resident">
    <%= simple_form_for ([:homeowners, current_resident]) do |f| %>
      <% if current_resident.errors.any? %>
        <div class="submission-errors">
          <ul>
            <% current_resident.errors.full_messages.each do |message| %>
              <li>
                <%= fa_icon "exclamation-circle" %>
                <%= message %>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="resident-details branded-content branded-border full">
        <div class="resident-name">
          <h3><%= t(".change_details") %></h3>
          <%= f.input :email, label: t(".email"), readonly: true, class: "readonly" %>
          <%= f.input :title,
                      as: :select,
                      collection: Resident.titles,
                      label_method: ->((key, _)) { t_enum(Resident, :title, key) },
                      value_method: ->((key, _)) { key },
                      include_blank: true %>
          <%= f.input :first_name, label: t(".first_name") %>
          <%= f.input :last_name, label: t(".surname") %>
          <%= f.input :phone_number, label: t(".phone"), required: true %>
        </div>
      </div>

      <div class="password resident-details last branded-content branded-border resident-password full">
        <h3><%= t(".change_password") %></h3>
        <%= f.input :current_password, label: t(".current_password"), autocomplete: "off" %>
        <%= f.input :password, label: t(".new_password"), autocomplete: "off" %>
        <%= f.input :password_confirmation, label: t(".confirm_new_password") %>
      </div>

      <%= render "homeowners/residents/communications", f: f %>

      <div class="full branded-content branded-border actions">
        <%= f.submit t(".submit"), class: "btn branded-btn" %>
      </div>
    </div>
    <% end %>
  </div>
</div>
