<% content_for :hero_text_primary do %>
  <span><%= t("activerecord.attributes.resident.titles.#{current_resident.title}") %> <%= current_resident %></span>
<% end %>
<% content_for :hero_text_secondary do %>
  <span><%= render 'address/address', address: @plot %></span>
<% end %>

<nav class="sub-navigation-container">
  <div class="nav-inner">
    <h3 class="branded-text"><%= t(".my_account") %></h3>
  </div>
</nav>

<div class="resident-hero">
  <%= render "components/homeowner/hero" %>
</div>

<div class="branded-body outer-container">
  <div class="resident">
    <%= simple_form_for ([:homeowners, current_resident]) do |f| %>
      <% if current_resident.errors.any? %>
        <div class="submission-errors">
          <ul>
            <% current_resident.errors.full_messages.each do |message| %>
              <li>
                <%= fa_icon "exclamation-circle" %>
                <%= message %>
              </li>
            <% end %>
          </ul>
        </div>
      <% end %>

      <div class="half branded-content branded-border">
        <%= f.label :email %>
        <%= f.text_field :email, class: "readonly" %>
        <%= f.input :title,
                    as: :select,
                    collection: Resident.titles,
                    label_method: ->((key, _)) { t_enum(Resident, :title, key) },
                    value_method: ->((key, _)) { key },
                    include_blank: true %>
        <%= f.input :first_name %>
        <%= f.input :last_name %>
      </div>

      <div class="half last branded-content branded-border">
        <%= f.input :current_password, label: t(".current_password"), autocomplete: "off", placeholder: t(".current_password2") %>
        <%= f.input :password, autocomplete: "off" %>
        <%= f.input :password_confirmation %>

      </div>

      <div class="full branded-content branded-border">
        <h3><%= t(".comms_preferences") %></h3>
        <span><%= t(".helpful") %></span>
        <div>
          <%= f.label :developer_email_updates, class: "checkbox" do %>
            <%= f.check_box :developer_email_updates %>
            <i class="fa fa-check"></i> <%= Resident.human_attribute_name(:developer_email_updates) %>
          <% end %>
        </div>
        <div>
          <%= f.label :hoozzi_email_updates, class: "checkbox" do %>
            <%= f.check_box :hoozzi_email_updates %>
            <i class="fa fa-check"></i> <%= Resident.human_attribute_name(:hoozzi_email_updates) %>
          <% end %>
        </div>
        <label><%= t(".updates_by") %></label>
        <div>
          <%= f.label :telephone_updates, class: "checkbox" do %>
            <%= f.check_box :telephone_updates %>
            <i class="fa fa-check"></i> <%= Resident.human_attribute_name(:telephone_updates) %>
          <% end %>
        </div>
        <div>
          <%= f.label :post_updates, class: "checkbox" do %>
            <%= f.check_box :post_updates %>
            <i class="fa fa-check"></i> <%= Resident.human_attribute_name(:post_updates) %>
          <% end %>
        </div>
      </div>

      <div class="full branded-content branded-border actions">
        <%= f.submit t(".submit"), class: "branded-btn alt" %>
      </div>
    </div>
    <% end %>
  </div>
</div>
