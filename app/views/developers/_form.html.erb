<%= simple_form_for(developer) do |f| %>
  <!-- Load the page specific javascript to handle the UU/Spain formats-->
  <script type="text/javascript" src="/javascripts/lib/developer_address.js"></script>
  <% if developer.errors.any? %>
    <div class="submission-errors">
      <ul>
        <% developer.errors.full_messages.each do |message| %>
          <li>
            <%= fa_icon "exclamation-circle" %>
            <%= message %>
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row">
    <div class="row-item third">
      <fieldset>
        <%= f.input :company_name, label: t(".company_name") %>
        <%= f.input :is_demo, as: :boolean, label: t(".is_demo") %>
        <label><%= t(".analytics_dashboard_label") %></label>
        <%= f.input :analytics_dashboard, as: :boolean, label: t(".analytics_dashboard") %>
        <%= f.fields_for :charts do |c| %>
          <%= c.hidden_field :id %>
          <%= c.hidden_field :section %>
          <%= c.input :enabled, as: :boolean, label: t(".#{c.object.section}_label") %>
        <% end %>
        <%= f.input :custom_url, label: t(".custom_url"), input_html: {type: "text"} %>
        <div class="featured ui-front">
          <%= f.input :country_id, as: :select, collection: country_collection, include_blank: false, disabled: controller.action_name != 'new' %>
        </div>
        <%= f.input :about %>
        <%= f.input :api_key, as: :text, placeholder: t(".api_key_info"), label: t(".api_key") %>
        <%= f.label :personal_app, t(".branded_app") %>
        <%= f.check_box :personal_app, checked: developer.branded_app? %>
        <p class="checkbox-description"><%= t(".branded_app_description") %></p>
      </fieldset>
    </div>

    <div class="row-item third">
      <fieldset>
        <label class="string optional"><%= t(".account_manager.title") %></label>
         <%= f.input :account_manager_name, label: t(".account_manager.name") %>
         <%= f.input :account_manager_email, label: t(".account_manager.email") %>
         <%= f.input :account_manager_contact, label: t(".account_manager.contact") %>

        <%= f.label :conveyancing, t(".conveyancing") %>
        <%= f.check_box :conveyancing %>
        <p class="checkbox-description"><%= t(".conveyancing_description") %>
        <div id="wecomplete">
          <%= f.input :wecomplete_sign_in, label: t(".wecomplete_sign_in") %>
          <%= f.input :wecomplete_quote, label: t(".wecomplete_quote") %>
        </div>

        <%= f.label :package, t(".package") %>
        <%= f.check_box :on_package %>
        <p class="checkbox-description"><%= t(".package_description") %>
        <div id="package">
          <%= f.fields_for :customer do |cc| %>
            <%= cc.hidden_field :id %>
            <%= cc.input :code, label: t("payments.customer_code") %>
            <%= cc.hidden_field :_destroy, value: false %>
            <%= cc.fields_for :package_prices do |pc| %>
              <div>
                <%= pc.hidden_field :id %>
                <%= pc.hidden_field :package %>
                <%= pc.input :code, label: t("activerecord.attributes.phase.packages.#{pc.object.package}") %>
                <%= pc.hidden_field :_destroy, value: false %>
              </div>
            <% end %>
          <% end %>
        </div>
      </fieldset>
    </div>

    <div class="row-item third">
      <fieldset>
        <%= f.input :prime_lettings_admin, as: :select, collection: developer.potential_prime_admins.map { |a| [a.to_s, a.id] },
        label: t(".prime_admin"), include_blank: true %>
        <br/>
        <%= f.label :house_search, t(".enable_house_search") %>
        <%= f.check_box :house_search %>
        <p class="checkbox-description"><%= t(".house_search_description") %></p>
        <%= f.label :enable_development_messages, t(".enable_messages") %>
        <%= f.check_box :enable_development_messages %>
        <p class="checkbox-description"><%= t(".messages_description") %></p>
        <%= f.label :development_faqs, t(".development_faqs") %>
        <%= f.check_box :development_faqs %>
        <p class="checkbox-description"><%= t(".development_faqs_description") %></p>
        <%= f.label :enable_roomsketcher, t(".enable_homedesigner") %>
        <%= f.check_box :enable_roomsketcher %>
        <p class="checkbox-description"><%= t(".homedesigner_description") %></p>
        <%= f.label t(".enable_referrals") %>
        <%= f.check_box :enable_referrals %>
        <p class="checkbox-description"><%= t(".referrals_description") %></p>
        <%= f.label t(".enable_services") %>
        <%= f.check_box :enable_services %>
        <p class="checkbox-description"><%= t(".services_description") %></p>
        <%= f.label :enable_how_tos, t(".how_tos") %>
        <%= f.check_box :enable_how_tos %>
        <p class="checkbox-description"><%= t(".how_tos_description") %>
        <%= f.label :show_warranties, t(".show_warranties") %>
        <%= f.check_box :show_warranties %>
        <p class="checkbox-description"><%= t(".show_warranties_description") %>
        <%= f.label :cas, t(".enable_cas") %>
        <%= f.check_box :cas, disabled: developer.cas %>
        <p class="checkbox-description"><%= t(".cas_description") %></p>
        <%= f.label :timeline, t(".timeline") %>
        <%= f.check_box :timeline %>
        <p class="checkbox-description"><%= t(".timeline_description") %></p>
        <br/>
        <%= f.label :enable_perks, t(".enable_perks") %>
        <%= f.check_box :enable_perks, id: "enable_perks" %>
        <p class="checkbox-description"><%= t(".perks_description") %></p>
        <p class="branded-explanation"><%= t(".branded_explanation") %></p>
        <%= f.simple_fields_for :branded_perk do |p| %>
          <%= p.input :account_number, label: t(".account_number") %>
          <%= p.input :link, label: t(".link") %>
          <div class="image-container">
            <%= p.input :tile_image, label: t(".tile_image"), as: :image_preview, input_html: { preview_version: :thumbnail } %>
          </div>
        <% end %>


      </fieldset>
    </div>
  </div>

  <div class="form-actions-footer-container">
    <div class="form-actions-footer">
      <%= link_to t(".back"), developers_path, class: "btn" %>
      <%= f.submit t(".submit"), class: "btn-form-submit btn-primary" %>
    </div>
  </div>
<% end %>
