<% if collection.empty? %>
  <%= render 'components/empty_list', icon_name: "vcard", type: Contact, parent: parent %>
<% else %>
  <div class="section-actions">
    <% if can? :create, new_contact %>
      <%= link_to [:new, parent, :contact], class: "btn btn-primary" do %>
        <i class="fa fa-plus"></i>
        <span class="btn-label"><%= t(".create") %></span>
      <% end %>
    <% end %>
  </div>

  <table class="record-list">
    <thead>
      <tr>
        <th class="icon">&nbsp;</th>
        <th><%= sortable(Contact, :last_name, t(".name")) %></th>
        <th><%= sortable(Contact, :position) %></th>
        <th><%= sortable(Contact, :updated_at) %></th>
        <th><%= sortable(Contact, :category) %></th>
        <th>&nbsp;</th>
      </tr>
    </thead>
    <tbody>
      <% collection.each do |contact| %>
      <tr>
        <td><%= image_tag contact.picture, class: "circle" if contact.picture? %></td>
        <td><%= link_to contact, contact_path(contact) %></td>
        <td><%= contact.position %></td>
        <td><%= l contact.updated_at.to_date, format: :digits %></td>
        <td><%= t("activerecord.attributes.contact.categories.#{contact.category}") if contact.category %></td>
        <td class="actions">
          <%= edit_btn edit_contact_path(contact), element: contact %>
          <%= delete_btn contact, path: contact_path(contact), element: contact %>
        </td>
      </tr>
      <% end %>
    </tbody>
  </table>

  <div class="paging">
    <%= render 'components/page_size' %>
    <%= paginate collection %>
  </div>
<% end %>
